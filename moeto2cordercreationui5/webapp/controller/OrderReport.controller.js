sap.ui.define(["com/merckgroup/Moet_O2C_OrderCreation_UI5/controller/BaseController","com/merckgroup/Moet_O2C_OrderCreation_UI5/model/formatter","sap/ui/model/Filter"],function(e,r,t){"use strict";return e.extend("com.merckgroup.Moet_O2C_OrderCreation_UI5.controller.OrderReport",{custFormatter:r,onInit:function(){this.getRouter().getRoute("OrderReport").attachPatternMatched(this._onRouteMatched,this);this._loadODataUtils()},_onRouteMatched:function(e){this.onDataReceived();this.getVisiblePlaceOrder();var r=this;setInterval(function(){r.userLogin()},3e5)},onBeforeRebindTable:function(e){var r=e.getSource();var t=this.getView().getModel("viewProperties");var o=t.getData().LoginID;var a=t.getData().sUserRole;var n;if(a==="RSNO"){n="/OTCHealthCareReportSNOParam(P_USERID='"+o+"')/Results";r.setTableBindingPath(n)}if(a==="CUST"){n="/OrderTrackingParam(P_USERID='"+o+"')/Results";r.setTableBindingPath(n)}var i=e.getParameter("bindingParams");if(!i.sorter.length){i.sorter.push(new sap.ui.model.Sorter("CA_ZSO_CREATED_DATE",true))}},onBeforeRendering:function(){},onDataReceived:function(){var e=this.getView().byId("smartTable").getTable(),r=0,t=e.getColumns();jQuery.sap.delayedCall(100,this,function(){for(r=t.length;r>=0;r--){e.autoResizeColumn(r)}})},onAssignedFiltersChanged:function(e){var r=e.getSource();for(var t in r._oFilterProvider._mTokenHandler){var o=r._oFilterProvider._mTokenHandler[t];if(o&&o.parser){o.parser.setDefaultOperation("Contains")}}},onInitialized:function(e){var r=e.getSource();for(var t in r._oFilterProvider._mTokenHandler){var o=r._oFilterProvider._mTokenHandler[t];if(o&&o.parser){o.parser.setDefaultOperation("Contains")}}}})});